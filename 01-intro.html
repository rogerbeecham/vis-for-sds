<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-0.9.56">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>Visualization for Social Data Science - 1&nbsp; Introduction</title>
<style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
<script src="site_libs/quarto-nav/quarto-nav.js"></script><script src="site_libs/quarto-nav/headroom.min.js"></script><script src="site_libs/clipboard/clipboard.min.js"></script><meta name="quarto:offset" content="./">
<script src="site_libs/quarto-search/autocomplete.umd.js"></script><script src="site_libs/quarto-search/fuse.min.js"></script><script src="site_libs/quarto-search/quarto-search.js"></script><link href="./02-data.html" rel="next">
<link href="./preface.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script><script src="site_libs/quarto-html/popper.min.js"></script><script src="site_libs/quarto-html/tippy.umd.min.js"></script><script src="site_libs/quarto-html/anchor.min.js"></script><link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet">
<script src="site_libs/bootstrap/bootstrap.min.js"></script><link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
    "location": "sidebar",
    "copy-button": false,
    "collapse-after": 2,
    "panel-placement": "start",
    "type": "textbox",
    "limit": 20,
    "language": {
      "search-no-results-text": "No results",
      "search-matching-documents-text": "matching documents",
      "search-copy-link-title": "Copy link to search",
      "search-hide-matches-text": "Hide additional matches",
      "search-more-match-text": "more match in this document",
      "search-more-matches-text": "more matches in this document",
      "search-clear-button-title": "Clear",
      "search-detached-cancel-button-title": "Cancel",
      "search-submit-button-title": "Submit"
    }
  }</script><script defer="" src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js"></script><script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css">
<!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body class="floating">
<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }"><div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></h1>
      <button type="button" class="quarto-btn-toggle btn">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Visualization for Social Data Science</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/rogerbeecham/vis4gds/" title="Source Code" class="sidebar-tool px-1"><i class="bi bi-github"></i></a>
    <a href="https://twitter.com/intent/tweet?url=%7Curl%7C" title="Twitter" class="sidebar-tool px-1"><i class="bi bi-twitter"></i></a>
</div>
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">Welcome</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./preface.html" class="sidebar-item-text sidebar-link">Preface</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01-intro.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-data.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Data Fundamentals</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03-visual.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Visualization Fundamentals</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04-explore.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Exploratory Data Analysis</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05-network.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Networks</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06-model.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Models</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07-uncertainty.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Uncertainty</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./08-storytelling.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Data Storytelling</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">References</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
    <div class="sidebar-item-container"> 
        <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-appendices" aria-expanded="true">Appendices</a>
      <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-appendices" aria-expanded="true">
        <i class="bi bi-chevron-right ms-2"></i>
      </a>
    </div>
    <ul id="quarto-sidebar-section-appendices" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./a1-data.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Data Fundamentals</span></a>
  </div>
</li>
    </ul>
</li>
    </ul>
</div>
</nav><!-- margin-sidebar --><div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc"><h2 id="toc-title">Table of contents</h2>
<ul>
<li><a href="#introduction" class="nav-link active" data-scroll-target="#introduction"> <span class="header-section-number">1.1</span> Introduction</a></li>
<li>
<a href="#concepts" class="nav-link" data-scroll-target="#concepts"> <span class="header-section-number">1.2</span> Concepts</a>
<ul class="collapse">
<li><a href="#why-vis4sds" class="nav-link" data-scroll-target="#why-vis4sds"> <span class="header-section-number">1.2.1</span> Why vis4sds?</a></li>
<li><a href="#what-vis4sds" class="nav-link" data-scroll-target="#what-vis4sds"> <span class="header-section-number">1.2.2</span> What vis4sds?</a></li>
<li><a href="#how-vid4sds" class="nav-link" data-scroll-target="#how-vid4sds"> <span class="header-section-number">1.2.3</span> How vid4sds?</a></li>
</ul>
</li>
<li>
<a href="#techniques" class="nav-link" data-scroll-target="#techniques"> <span class="header-section-number">1.3</span> Techniques</a>
<ul class="collapse">
<li><a href="#r-and-rstudio" class="nav-link" data-scroll-target="#r-and-rstudio"> <span class="header-section-number">1.3.1</span> R and RStudio</a></li>
<li><a href="#compute-in-the-console" class="nav-link" data-scroll-target="#compute-in-the-console"> <span class="header-section-number">1.3.2</span> Compute in the console</a></li>
<li><a href="#install-some-packages" class="nav-link" data-scroll-target="#install-some-packages"> <span class="header-section-number">1.3.3</span> Install some packages</a></li>
<li><a href="#experiment-with-r-markdown" class="nav-link" data-scroll-target="#experiment-with-r-markdown"> <span class="header-section-number">1.3.4</span> Experiment with R Markdown</a></li>
<li><a href="#r-scripts" class="nav-link" data-scroll-target="#r-scripts"> <span class="header-section-number">1.3.5</span> R Scripts</a></li>
<li><a href="#create-an-rstudio-project" class="nav-link" data-scroll-target="#create-an-rstudio-project"> <span class="header-section-number">1.3.6</span> Create an RStudio Project</a></li>
</ul>
</li>
<li><a href="#conclusions" class="nav-link" data-scroll-target="#conclusions"> <span class="header-section-number">1.4</span> Conclusions</a></li>
</ul><div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/rogerbeecham/vis4gds/edit/master/01-intro.qmd" class="toc-action">Edit this page</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content"><header id="title-block-header"><h1 class="title display-7"><span id="sec-introduction" class="quarto-section-identifier d-none d-lg-block"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></span></h1>
</header><p>By the end of this chapter you should gain the following knowledge and practical skills.</p>
<div class="callout-note callout callout-style-default no-icon callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Knowledge outcomes
</div>
</div>
<div class="callout-body-container callout-body">
<ul class="task-list">
<li>
<input type="checkbox" disabled="" checked="">
Appreciate the motivation for this book – why visualization, why <code>R</code> and why <code>ggplot2</code>
</li>
</ul>
</div>
</div>
<div class="callout-note callout callout-style-default no-icon callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Skills outcomes
</div>
</div>
<div class="callout-body-container callout-body">
<ul class="task-list">
<li>
<input type="checkbox" disabled="" checked="">
Open <code>R</code> using the RStudio Integrated Developer Environment (IDE)</li>
<li>
<input type="checkbox" disabled="" checked="">
Install and enable <code>R</code> packages and query package documentation</li>
<li>
<input type="checkbox" disabled="" checked="">
Perform basic calculations via the <code>R Console</code>
</li>
<li>
<input type="checkbox" disabled="" checked="">
Render <code>R Markdown</code> files</li>
<li>
<input type="checkbox" disabled="" checked="">
Create <code>R</code> Projects</li>
<li>
<input type="checkbox" disabled="" checked="">
Read-in datasets from external resources as objects (specifically <code>tibbles</code>)</li>
</ul>
</div>
</div>
<section id="introduction" class="level2" data-number="1.1"><h2 data-number="1.1" class="anchored" data-anchor-id="introduction">
<span class="header-section-number">1.1</span> Introduction</h2>
<p>This chapter introduces the <em>what</em>, <em>why</em> and <em>how</em> of the book. An argument is presented for the use of visual approaches in modern data analysis before the key technologies and analysis frameworks for the book are introduced: computational notebooks executed in <code>RMarkdown</code>. The technical component consolidates on readers’ knowledge and understanding of <code>R</code> and <code>RMarkdown</code> as well as demonstrating how to organise and curate data science analyses as RStudio Projects.</p>
</section><section id="concepts" class="level2" data-number="1.2"><h2 data-number="1.2" class="anchored" data-anchor-id="concepts">
<span class="header-section-number">1.2</span> Concepts</h2>
<section id="why-vis4sds" class="level3" data-number="1.2.1"><h3 data-number="1.2.1" class="anchored" data-anchor-id="why-vis4sds">
<span class="header-section-number">1.2.1</span> Why vis4sds?</h3>
<p>It is now taken-for-granted that over the last decade or so new data, new technology and new ways of doing science have transformed how we approach the world’s problems. Evidence for this can be seen in the response to the Covid-19 pandemic. Enter <a href="https://www.google.com/search?q=covid-19+github&amp;rlz=1C5CHFA_enGB632GB632&amp;oq=covid-19+github&amp;aqs=chrome..69i57j69i60l3.5575j0j1&amp;sourceid=chrome&amp;ie=UTF-8">Covid19 github</a> into a search and you’ll be confronted with hundreds of repositories demonstrating how an ever-expanding array of data related to the pandemic can be collected, processed and analysed. <em>Data Science</em> is a term used widely to capture this shift.</p>
<p>Since gaining traction in the corporate world, the term Data Science has been somewhat stretched, but it has its origins in the work of John Tukey’s <em>The Future of Data Analysis</em> <span class="citation" data-cites="tukey_future_1962">(<a href="references.html#ref-tukey_future_1962" role="doc-biblioref">1962</a>)</span>. Drawing on this, and a survey of more recent work, <span class="citation" data-cites="donoho_50_2017">Donoho (<a href="references.html#ref-donoho_50_2017" role="doc-biblioref">2017</a>)</span> neatly identifies six key facets that a Data Science discipline might encompass<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>:</p>
<ol type="1">
<li>data gathering, preparation, and exploration;</li>
<li>data representation and transformation;</li>
<li>computing with data;</li>
<li>data visualization and presentation;</li>
<li>data modelling;</li>
<li>and a more introspective “science about data science”</li>
</ol>
<p>Glancing at this list, <em>visualization</em> could be interpreted as a single facet of data science process – something that happens after data gathering, preparation, exploration, but before modelling. Through this book you’ll learn, rather, that visualization is intrinsic to, and should inform, each of these activities.</p>
<p>Let’s develop this idea by asking why data visualizations are used in the first place. In her book <em>Visualization Analysis and Design</em>, Tamara <span class="citation" data-cites="munzner_visualization_2014">Munzner (<a href="references.html#ref-munzner_visualization_2014" role="doc-biblioref">2014</a>)</span> considers how humans and computers interface in the decision-making process. She makes the point that data visualization is ultimately about connecting people with data in order to make decisions – or to install humans in a ‘decision-making-loop’. There are very occasionally decision-making loops that are entirely computational and where an automated solution can be rolled out. Most situations, however, require some form of human intervention.</p>
<p>In Statistics textbooks the most commonly-cited example demonstrating problems with relying solely on computation, and so for the use of visualization, is <a href="https://en.wikipedia.org/wiki/Anscombe%27s_quartet">Anscombe’s quartet</a>. Here, <span class="citation" data-cites="anscombe_graphs_1973">Anscombe (<a href="references.html#ref-anscombe_graphs_1973" role="doc-biblioref">1973</a>)</span> presents four datasets, each containing eleven observations and two variables for each observation. The data are synthetic, but let’s say that they are the weight and height of independent samples taken from a population of postgraduate students studying Data Science. Presented with a new dataset it makes sense to compute some summaries and doing so, we observe that the data appear identical – they contain the same means, variances and strong positive correlation coefficient (<a href="#fig-anscombe-data">Figure&nbsp;<span>1.1</span></a>). This seems appropriate since the data are measuring individuals’ weight and height. Although there may be some variation, we’d expect taller students to be heavier. Given these statistical summaries we can be assured that we are drawing samples from the same population of (Data Science) students.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-anscombe-data" class="quarto-figure quarto-figure-center anchored">
<figure class="figure"><p><img src="../../../figs/anscombe_data.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 1.1: Data from Anscombe’s quartet</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>Laying out the data in a meaningful way, horizontally according to <em>weight</em> (<span class="math inline">x</span>) and vertically according to the <em>height</em> (<span class="math inline">y</span>) to form a scatterplot, we quickly see that whilst these data contain the same statistical properties they are very different. Only <code>dataset #1</code> now looks plausible if it were truly a measure of weights and heights drawn from a population of students.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-anscombe-plot" class="quarto-figure quarto-figure-center anchored">
<figure class="figure"><p><img src="../../../figs/anscombe.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 1.2: Plots of Anscombe’s quartet</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>Anscombe’s is a deliberately contrived example<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a>, but one can imagine many cases where important structure is missed or incorrect assumptions are made, without data being subject to thorough visual examination. The consequences are poorly specified models and potentially faulty claims. This is not to undermine the importance of numerical analysis. Numeric summaries that simplify patterns are extremely useful and Statistics has at its disposal an array of tools for helping to guard against making false claims from datasets – a theme that we will return to in chapters <a href="06-model.html"><span>6</span></a> and <a href="07-uncertainty.html"><span>7</span></a> when we think critically about the use of visual approaches for data analysis. There remain, though, certain classes of relation and context that cannot be easily captured through statistics alone.</p>
<p>Geographic context, for example, is undoubtedly challenging to capture numerically; many of the early examples of data visualization have been of spatial phenomena and generated by Geographers <span class="citation" data-cites="friendly_brief_2007">(see <a href="references.html#ref-friendly_brief_2007" role="doc-biblioref">Friendly 2007</a>)</span>. We can also make a special case for the use of visual approaches in Social Data Science (SDS) applications due to their exploratory nature. Often datasets are being repurposed for social sciences research for the first time; contain complex structure and relations that cannot be easily captured by statistical summaries alone; and so the types of questions that can be asked and the techniques deployed to answer them cannot be easily specified in advance. The book demonstrates this as we explore (<a href="04-explore.html">Chapter&nbsp;<span>4</span></a> and <a href="05-network.html"><span>5</span></a>), model under uncertainty (<a href="06-model.html">Chapter&nbsp;<span>6</span></a> and <a href="07-uncertainty.html"><span>7</span></a>) and communicate (<a href="08-storytelling.html">Chapter&nbsp;<span>8</span></a>) with various social science datasets.</p>
<div class="callout-tip callout callout-style-default no-icon callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Task
</div>
</div>
<div class="callout-body-container callout-body">
<p>Watch <a href="https://www.youtube.com/embed/FaRBUnO5PZI">Jo Wood’s TEDx</a> talk demonstrating how visual techniques can be used to analyse urban travel behaviours. In the video Jo argues that bikeshare schemes can help democratise cycling, but also for their potential contributions to research – he briefly contrasts new, passively collected data sets with more “traditional” actively collected data for analysing how people move around cities. A compelling case is then made for the use of visualization to support analysis of these new forms behavioural datasets.</p>
</div>
</div>
</section><section id="what-vis4sds" class="level3" data-number="1.2.2"><h3 data-number="1.2.2" class="anchored" data-anchor-id="what-vis4sds">
<span class="header-section-number">1.2.2</span> What vis4sds?</h3>
<p>The chapters of this book blend both theory and practical coding activity. We will cover fundamentals around visual data analysis from Information Visualization and Statistics. As the chapters progress, data processing and analysis code is applied to datasets from the Political Science, Urban and Transport Planning and Health domains. So the examples in the book demonstrate how visual approaches can be used to generate and evaluate real findings and knowledge.</p>
<p>To do this, we have to cover a reasonably broad set of data processing and analysis procedures. As well as developing expertise around designing data-rich, visually compelling graphics, we will need to cover more tedious aspects of data processing and wrangling. Additionally, if we are to learn how to make and communicate claims under uncertainty with our data graphics, then we need to cover some aspects of estimation and modelling from Statistics. In short, we cover most of <span class="citation" data-cites="donoho_50_2017">Donoho (<a href="references.html#ref-donoho_50_2017" role="doc-biblioref">2017</a>)</span>’s six key facets of a data science discipline:</p>
<ol type="1">
<li>data gathering, preparation, and exploration (Chapters <a href="02-data.html"><span>2</span></a>, <a href="03-visual.html"><span>3</span></a>, <a href="04-explore.html"><span>4</span></a>);</li>
<li>data representation and transformation (Chapters <a href="02-data.html"><span>2</span></a>, <a href="03-visual.html"><span>3</span></a>);</li>
<li>computing with data (Chapter <a href="02-data.html"><span>2</span></a>, All chapters);</li>
<li>data visualization and presentation (All chapters);</li>
<li>data modelling (Chapters <a href="04-explore.html"><span>4</span></a>, <a href="06-model.html"><span>6</span></a>, <a href="07-uncertainty.html"><span>7</span></a>);</li>
<li>and a more introspective “science about data science” (All chapters)</li>
</ol>
<p>There is already a rich and impressive set of open resources practically introducing how to do modern Data Science <span class="citation" data-cites="wickham_r_2017">(<a href="references.html#ref-wickham_r_2017" role="doc-biblioref">Wickham and Grolemund 2017</a>)</span>, Visualization <span class="citation" data-cites="healy_data_2018">(<a href="references.html#ref-healy_data_2018" role="doc-biblioref">Healy 2018</a>)</span> and Geographic Analysis <span class="citation" data-cites="lovelace_geocomputation_2019">(<a href="references.html#ref-lovelace_geocomputation_2019" role="doc-biblioref">Lovelace, Nowosad, and Muenchow 2019</a>)</span>. What makes this book different from these existing resources is that we will be <em>doing</em> applied data science throughout – we will be identifying and diagnosing problems when gathering data, discovering patterns (some maybe even spurious) as we do exploratory analysis, and attempt to make claims under uncertainty as we generate models based on observed patterns.</p>
</section><section id="how-vid4sds" class="level3" data-number="1.2.3"><h3 data-number="1.2.3" class="anchored" data-anchor-id="how-vid4sds">
<span class="header-section-number">1.2.3</span> How vid4sds?</h3>
<section id="r-for-modern-data-analysis" class="level4" data-number="1.2.3.1"><h4 data-number="1.2.3.1" class="anchored" data-anchor-id="r-for-modern-data-analysis">
<span class="header-section-number">1.2.3.1</span> R for modern data analysis</h4>
<p>All data collection, analysis and reporting activity will be completed using <a href="https://www.r-project.org/"><code>R</code></a> and the <a href="https://rstudio.com/"><code>RStudio</code></a> <a href="https://en.wikipedia.org/wiki/Integrated_development_environment">Integrated Development Environment</a> (IDE). Released as open source software as part of a research project in 1995, for some time <code>R</code> was the preserve of academics. From 2010s onwards, the <code>R</code> community expanded rapidly and along with <a href="https://www.python.org/"><code>Python</code></a> is regarded as the key technology for doing data analysis.</p>
<p>There are many benefits that come from being fully open-source, with a critical mass of users. Firstly, there is an array of online fora, tutorials and code examples from which to learn. Second, with such a large community, there are numerous expert <code>R</code> users who themselves contribute by developing <em>packages</em> that extend its use.</p>
<p>Of particular importance is the <a href="http://www.tidyverse.org"><code>tidyverse</code></a> package. This is a set of packages for doing data science authored by the software development team at <a href="https://rstudio.com/">RStudio</a>. <code>tidyverse</code> packages share a principled underlying philosophy, syntax and documentation. Contained within the <code>tidyverse</code> is its data visualization package, <a href="https://ggplot2.tidyverse.org/"><code>ggplot2</code></a>. This package pre-dates the <code>tidyverse</code> and is one of the most widely-used toolkits for generating data graphics. As with other heavily used visualization toolkits (<a href="https://www.tableau.com/en-gb"><code>Tableau</code></a>, <a href="https://vega.github.io/vega-lite/"><code>vega-lite</code></a>) it is inspired by Leland Wilkinson’s <a href="https://www.springer.com/gp/book/9780387245447">The Grammar of Graphics</a>, the <code>gg</code> in <code>ggplot</code> stands for Grammar of Graphics. Understanding the design principles behind the <em>Grammar of Graphics</em> (and <code>tidyverse</code>) is necessary for modern data analysis and so we will cover this in detail in <a href="03-visual.html">Chapter&nbsp;<span>3</span></a>.</p>
</section><section id="rmarkdown-for-reproducible-research" class="level4" data-number="1.2.3.2"><h4 data-number="1.2.3.2" class="anchored" data-anchor-id="rmarkdown-for-reproducible-research">
<span class="header-section-number">1.2.3.2</span> Rmarkdown for reproducible research</h4>
<blockquote class="blockquote">
<p>Reproducible research is the idea that data analyses, and more generally, scientific claims, are published with their data and software code so that others may verify the findings and build upon them.</p>
<p>Roger Peng, Jeff Leek and Brian Caffo</p>
</blockquote>
<p>In recent years there has been much introspection into how science works – around how statistical claims are made from reasoning over evidence. This came on the back of, amongst other things, a high profile paper published in Science <span class="citation" data-cites="osc_estimating_2015">(<a href="references.html#ref-osc_estimating_2015" role="doc-biblioref">Open Science Collaboration 2015</a>)</span>, which found that of 100 recent peer-reviewed psychology experiments, the findings of only 39 could be replicated. The upshot is that researchers must now make every possible effort to make their work transparent, such that “<em>all</em> aspects of the answer generated by any given analysis [can] be tested” <span class="citation" data-cites="brunsdon_opening_2020">(<a href="references.html#ref-brunsdon_opening_2020" role="doc-biblioref">Brunsdon and Comber 2020</a>)</span>.</p>
<p>A reproducible research project should be accompanied with:</p>
<ul>
<li>code and data that allows tables and figures presented in research outputs to be regenerated</li>
<li>code and data that does what it claims (the code works)</li>
<li>code and data that can be justified and explained through proper documentation</li>
</ul>
<p>If these goals are met, then it may be possible for others to use the code on new and different data to study whether the findings reported in one project might be consistent with another; or to use the same data, but update the code to, for example, extend the original analysis (to perform a re-analysis). This model – generate findings, test for replicability in new contexts and re-analysis – is how knowledge development has always worked. However, to achieve this the data and procedures on which findings were generated must be made open and transparent.</p>
<p>In this setting, traditional proprietary data analysis software that support point-and-click interaction are problematic. First, whilst these software may rely on the sorts of packages and libraries with bundled code that <code>R</code> and <code>Python</code> uses for implementing statistical procedures, those libraries are closed. It is not possible, and therefore less common, for the researcher to fully interrogate into the underlying processes that are being implemented and the results need to be taken more or less on faith. Second, but probably most significantly (for us), it would be tedious to make notes describing all interactions performed when working with a dataset in SPSS or ArcGIS.</p>
<p>As a declarative programming language, it is very easy to provide such a provenance trail for your workflows in <code>R</code> since this necessarily exists in the analysis scripts. But more importantly, the <a href="https://en.wikipedia.org/wiki/Integrated_development_environment">Integrated Development Environments</a> (IDEs) through which <code>R</code> (and <code>Python</code>) are most often accessed provide notebook environments that allow users to curate reproducible computational documents that blend <em>input code</em>, <em>explanatory prose</em> and <em>outputs</em>. Thruough the practical exercises in this book, we will prepare these sorts of notebooks using <a href="https://rmarkdown.rstudio.com/">R Markdown</a>.</p>
</section></section></section><section id="techniques" class="level2" data-number="1.3"><h2 data-number="1.3" class="anchored" data-anchor-id="techniques">
<span class="header-section-number">1.3</span> Techniques</h2>
<p>It is anticipated that readers of this book might already have some familiarity with <code>R</code>and the <code>RStudio</code> IDE. If not, then this section is designed to get you quickly up-and-running with <code>R</code>and the <code>RStudio</code> and to briefly introduce you to ,RMardown<code>.</code>R<code>scripts and</code>RStudio Projects`. The accompanying template file, <a href="">01-template.Rmd</a> can be downloaded from the book’s companion website.</p>
<section id="r-and-rstudio" class="level3" data-number="1.3.1"><h3 data-number="1.3.1" class="anchored" data-anchor-id="r-and-rstudio">
<span class="header-section-number">1.3.1</span> R and RStudio</h3>
<ul>
<li>Install the latest version of <a href="https://cloud.r-project.org/">R</a>. Note that there are installations for <a href="https://cloud.r-project.org/bin/windows/">Windows</a>, <a href="https://cloud.r-project.org/">macOS</a> and <a href="https://cloud.r-project.org/">Linux</a>. Run the installation from the file you downloaded (an <code>.exe</code> or <code>.pkg</code> extension).</li>
<li>Install the latest version of <a href="https://rstudio.com/products/rstudio/download/#download">RStudio Desktop</a>. Note again that there are separate installations depending on operating system – for Windows an <code>.exe</code> extension, macOS a <code>.dmg</code> extension.</li>
<li>Once installed, open the RStudio IDE.</li>
<li>Open an R Script by clicking <code>File</code> &gt; <code>New File</code> &gt; <code>R Script</code> .</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<div id="fig-rstudio" class="quarto-figure quarto-figure-center anchored">
<figure class="figure"><p><img src="../../../figs/rstudio_annotate.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 1.3: The RStudio IDE</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>You should see a set of windows roughly similar to those in <a href="#fig-rstudio">Figure&nbsp;<span>1.3</span></a>. The top left pane is used either as a Code Editor (the tab named <code>Untitled1</code>) or Data Viewer. This is where you’ll write, organise and comment R code for execution or inspect datasets as a spreadsheet representation. Below this in the bottom left pane is the R Console, in which you write and execute commands directly. To the top right is a pane with the tabs Environment and History. This displays all objects – data and plot items, calculated functions – stored in-memory during an R session. In the bottom right is a pane for navigating through project directories, displaying plots, details of installed and loaded packages and documentation on their functions.</p>
</section><section id="compute-in-the-console" class="level3" data-number="1.3.2"><h3 data-number="1.3.2" class="anchored" data-anchor-id="compute-in-the-console">
<span class="header-section-number">1.3.2</span> Compute in the console</h3>
<p>You will write and execute almost all code from the code editor pane. To start though let’s use <code>R</code> as a calculator by typing some commands into the Console. You’ll create an object (<code>x</code>) and assign it a value using the assignment operator (<code>&lt;-</code>), then perform some simple statistical calculations using functions that are held within the <code>base</code> package.</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
R package documentation
</div>
</div>
<div class="callout-body-container callout-body">
<p>The <code>base</code> package is core and native to <code>R</code>. Unlike all other packages, it does not need to be installed and called explicitly. One means of checking the package to which a function you are using belongs is to call the help command (<code>?</code>) on that function: e.g.&nbsp;<code>?mean()</code>.</p>
</div>
</div>
<ul>
<li>Type the commands contained in the code block below into your R Console. Notice that since you are assigning values to each of these objects they are stored in memory and appear under the Global Environment pane.</li>
</ul>
<div class="cell">
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span class="co"># Create variable and assign a value.</span>
<span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">4</span>
<span class="co"># Perform some calculations using R as a calculator.</span>
<span class="va">x_2</span> <span class="op">&lt;-</span> <span class="va">x</span><span class="op">^</span><span class="fl">2</span>
<span class="co"># Perform some calculations using functions that form baseR.</span>
<span class="va">x_root</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span><span class="op">(</span><span class="va">x_2</span><span class="op">)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="install-some-packages" class="level3" data-number="1.3.3"><h3 data-number="1.3.3" class="anchored" data-anchor-id="install-some-packages">
<span class="header-section-number">1.3.3</span> Install some packages</h3>
<p>There are two steps to getting packages down and available in your working environment:</p>
<ol type="1">
<li>
<code>install.packages("&lt;package-name&gt;")</code> downloads the named package from a repository.</li>
<li>
<code>library(&lt;package-name&gt;)</code> makes the package available in your current session.</li>
</ol>
<ul>
<li>Install <code>tidyverse</code>, the core collection of packages for doing Data Science in <code>R</code>, by running the code below:</li>
</ul>
<div class="cell">
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"tidyverse"</span><span class="op">)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>If you have little or no experience in <code>R</code>, it is easy to get confused about downloading and then using packages in a session. For example, let’s say we want to make use of the simple features package (<a href="https://r-spatial.github.io/sf/index.html"><code>sf</code></a>), which we will draw on heavily for performing spatial operations.</p>
<ul>
<li>Run the code below:</li>
</ul>
<div class="cell">
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/">sf</a></span><span class="op">)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Unless you’ve previously installed <code>sf</code>, you’ll probably get an error message that looks like this:</p>
<div class="cell">
<div class="sourceCode" id="cb4"><pre class="sourceCode r cell-code code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> Error <span class="cf">in</span> <span class="fu">library</span>(sf)<span class="sc">:</span> there is no package called ‘sf’</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>So let’s install it.</p>
<ul>
<li>Run the code below:</li>
</ul>
<div class="cell">
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"sf"</span><span class="op">)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>And now it’s installed, why not bring up some documentation on one of its functions (<a href="https://r-spatial.github.io/sf/reference/geos_binary_pred.html"><code>st_contains()</code></a>).</p>
<ul>
<li>Run the code below:</li>
</ul>
<div class="cell">
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span class="op">?</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/geos_binary_pred.html">st_contains</a></span><span class="op">(</span><span class="op">)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Since you’ve downloaded the package but not made it available to your session, you should get the message:</p>
<div class="cell">
<div class="sourceCode" id="cb7"><pre class="sourceCode r cell-code code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> No documentation <span class="cf">for</span> ‘st_contains’ <span class="cf">in</span> specified packages and libraries</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>So let’s try again, by first calling <code><a href="https://r-spatial.github.io/sf/">library(sf)</a></code>.</p>
<ul>
<li>Run the code below:</li>
</ul>
<div class="cell">
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/">sf</a></span><span class="op">)</span>
<span class="co">## Linking to GEOS 3.7.2, GDAL 2.4.1, PROJ 6.1.0</span>
<span class="op">?</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/geos_binary_pred.html">st_contains</a></span><span class="op">(</span><span class="op">)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now let’s install some of the remaining core packages on which the course depends.</p>
<ul>
<li>Run the block below, which passes a <a href="https://r4ds.had.co.nz/vectors.html">vector</a> of package names to the <code><a href="https://rdrr.io/r/utils/install.packages.html">install.packages()</a></code> function:</li>
</ul>
<div class="cell">
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"devtools"</span>,<span class="st">"here"</span>, <span class="st">"rmarkdown"</span>, <span class="st">"knitr"</span>,<span class="st">"fst"</span>,<span class="st">"tidyverse"</span>,
<span class="st">"lubridate"</span>, <span class="st">"tidymodels"</span><span class="op">)</span><span class="op">)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
R package visibility
</div>
</div>
<div class="callout-body-container callout-body">
<p>If you wanted to make use of a package only very occasionally in a single session, you could access it without explicitly loading it via <code>library(&lt;package-name&gt;)</code>, using this syntax: <code>&lt;package-name&gt;::&lt;function_name&gt;</code>, e.g.&nbsp;<code>?sf::st_contains()</code>.</p>
</div>
</div>
</section><section id="experiment-with-r-markdown" class="level3" data-number="1.3.4"><h3 data-number="1.3.4" class="anchored" data-anchor-id="experiment-with-r-markdown">
<span class="header-section-number">1.3.4</span> Experiment with R Markdown</h3>
<p>R Markdown documents are suffixed with the extension <code>.Rmd</code> and based partly on <a href="https://en.wikipedia.org/wiki/Markdown">Markdown</a>, a lightweight markup language originally used as a means of minimising tedious mark-up tags (<code>&lt;header&gt;&lt;/header&gt;</code>) when preparing HTML documents. The idea is that you trade some flexibility in the formatting of your HTML for ease-of-writing. Working with R Markdown is very similar to Markdown. Sections are denoted hierarchically with hashes (<code>#</code>, <code>##</code>, <code>###</code>) and emphasis using <code>*</code> symbols (<code>*emphasis* **added**</code> reads <em>emphasis</em> <strong>added</strong> ). Different from standard Markdown, however, R Markdown documents can also contain code chunks to be run when the document is rendered or typeset – they are a mechanism for producing elegant reproducible notebooks.</p>
<p>Each session of the course has an accompanying R Markdown file. In later sessions you will use these to author computational notebooks that blend code, analysis prose and outputs.</p>
<ul>
<li>Download the <a href="">01-template.Rmd</a> file for this chapter and open it in RStudio by clicking <code>File</code> &gt; <code>Open File ...</code> &gt; <code>&lt;your-downloads&gt;/01-template.Rmd</code>.</li>
</ul>
<p>A quick anatomy of an R Markdown files :</p>
<ul>
<li>
<a href="https://en.wikipedia.org/wiki/YAML">YAML</a> - positioned at the head of the document and contains metadata determining amongst other things the author details and the output format when typesetting.</li>
<li>TEXT - incorporated throughout to document and comment on your analysis.</li>
<li>CODE chunks - containing discrete blocks that are to be run when the .Rmd file is typeset or <em>knit</em>.</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<div id="fig-rmarkdown-annotate" class="quarto-figure quarto-figure-center anchored">
<figure class="figure"><p><img src="../../../figs/rmarkdown_annotate.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 1.4: The anatomy of R Markdown</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>The <a href="https://en.wikipedia.org/wiki/YAML">YAML</a> section of an <code>.Rmd</code> file controls how your file is typeset and consists of <code>key: value</code> pairs enclosed by <code>---</code>. Notice that you can change the output format – so should you wish you can generate for example <code>.pdf</code>, <code>.docx</code> files for your reports.</p>
<pre><code>---
author: "Roger Beecham"
date: '2022-08-01'
title: "Chapter 01"
output:html_document
---</code></pre>
<p>R Markdown files are rendered or typeset with the <em>knit</em> button, annotated in the Figure above. This starts the <code>knitr</code> package and executes all the code chunks and outputs a markdown (<code>.md</code>) file. The markdown file can then be converted to many different output formats via <a href="https://pandoc.org/">pandoc</a>.</p>
<ul>
<li>
<strong>Knit</strong> the <a href="">01-template.Rmd</a> file for this chapter, either by clicking the <em>knit</em> button or by typing <kbd>ctrl</kbd> + <kbd>⇧</kbd> + <kbd>K</kbd> on Windows, <kbd>⌘</kbd> + <kbd>⇧</kbd> + <kbd>K</kbd> on macOS.</li>
</ul>
<p>You will notice that R Markdown code chunks can be customised in different ways. This is achieved by populating fields in the curly brackets at the start of the code chunk:</p>
<pre><code>```{r &lt;chunk-name&gt;, echo=TRUE, eval=FALSE, cache=FALSE}
  # Some code that is either run or rendered.
```</code></pre>
<p>A quick overview of the parameters.</p>
<ul>
<li>
<code>&lt;chunk-name&gt;</code> - Chunks can be given distinct names. This is useful for navigating R markdown files. It also supports chaching – chunks with distinct names are only run once, important if certain chunks take some time to execute.</li>
<li>
<code>echo=&lt;TRUE|FALSE&gt;</code> - Determines whether the code is visible or hidden from the typeset file. If you output file is a data analysis report you may not wish to expose lengthy code chunks as these may disrupt the discursive text that appears outside of the code chunks.</li>
<li>
<code>eval=&lt;TRUE|FALSE&gt;</code> - Determines whether the code is evaluated (executed). This is useful if you wish to present some code in your document for display purposes.</li>
<li>
<code>cache=&lt;TRUE|FALSE&gt;</code> - Determines where the results from the code chunk are cached.</li>
</ul>
<p>For a fuller introduction, it is worth downloading RStudio’s cheatsheets, which provide comprehensive details on how to configure R Markdown documents:</p>
<ul>
<li>Open RStudio and select <code>Help</code> &gt; <code>Cheatsheets</code> &gt; <code>R Markdown Cheat Sheet</code> | <code>R Markdown Reference Guide</code>
</li>
</ul></section><section id="r-scripts" class="level3" data-number="1.3.5"><h3 data-number="1.3.5" class="anchored" data-anchor-id="r-scripts">
<span class="header-section-number">1.3.5</span> R Scripts</h3>
<p>Whilst there are obvious benefits to working in R Markdown documents when doing data analysis, there may be occasions where working in an script is preferable. R scripts are plain text files with the extension <code>.R</code>. Comments – text that are not executed as code – are denoted with the <code>#</code> symbol.</p>
<p>R scripts are typically used for writing discrete but substantial code blocks that are to be executed. For example, a set of <a href="https://r4ds.had.co.nz/functions.html">functions</a> that relate to a particular use case might be organised into an R script. These then might be referred to in a data analysis from an <code>.Rmd</code>, which makes various use of these functions in a similar way as one might import a package. Below is an example script that we will encounter later in the course when creating flow visualizations in R. This script is saved with the file name <code>bezier_path.R</code>. If it were stored in a sensible location, like a project’s <code>code</code> folder, it could be called from an R Markdown file with <code>source(./code/bezier_path)</code>. R Scripts can be edited in the same way as R Markdown files in RStudio, via the Code Editor pane.</p>
<div class="cell">
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span class="co"># bezier_path.R</span>
<span class="co">#</span>
<span class="co"># Author: Roger Beecham</span>
<span class="co">##############################################################################</span>

<span class="co">#' Functions for generating input data for asymmetric bezier curve for OD data,</span>
<span class="co">#' such that the origin is straight and destination curve. The retuned tibble</span>
<span class="co">#' is passed to geom_bezier().Parametrtisation follows that published in</span>
<span class="co">#' Wood et al. 2011. doi: 10.3138/carto.46.4.239.</span>
<span class="co">#' @param data A df with origin and destination pairs representing 2D locations</span>
<span class="co">#' (o_east, o_north, d_east, d_north) in cartesian (OSGB) space.</span>
<span class="co">#' @param degrees For converting to radians.</span>
<span class="co">#' @return A tibble of coordinate pairs representing asymmetric curve</span>

<span class="va">get_trajectory</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">data</span><span class="op">)</span> <span class="op">{</span>
  <span class="va">o_east</span><span class="op">=</span><span class="va">data</span><span class="op">$</span><span class="va">o_east</span>
  <span class="va">o_north</span><span class="op">=</span><span class="va">data</span><span class="op">$</span><span class="va">o_north</span>
  <span class="va">d_east</span><span class="op">=</span><span class="va">data</span><span class="op">$</span><span class="va">d_east</span>
  <span class="va">d_north</span><span class="op">=</span><span class="va">data</span><span class="op">$</span><span class="va">d_north</span>
  <span class="va">od_pair</span><span class="op">=</span><span class="va">data</span><span class="op">$</span><span class="va">od_pair</span>

  <span class="va">curve_angle</span><span class="op">=</span><span class="fu">get_radians</span><span class="op">(</span><span class="op">-</span><span class="fl">90</span><span class="op">)</span>
  <span class="va">east</span><span class="op">=</span><span class="op">(</span><span class="va">o_east</span><span class="op">-</span><span class="va">d_east</span><span class="op">)</span><span class="op">/</span><span class="fl">6</span>
  <span class="va">north</span><span class="op">=</span><span class="op">(</span><span class="va">o_north</span><span class="op">-</span><span class="va">d_north</span><span class="op">)</span><span class="op">/</span><span class="fl">6</span>
  <span class="va">c_east</span><span class="op">=</span><span class="va">d_east</span> <span class="op">+</span> <span class="va">east</span><span class="op">*</span><span class="fu"><a href="https://rdrr.io/r/base/Trig.html">cos</a></span><span class="op">(</span><span class="va">curve_angle</span><span class="op">)</span> <span class="op">-</span> <span class="va">north</span><span class="op">*</span><span class="fu"><a href="https://rdrr.io/r/base/Trig.html">sin</a></span><span class="op">(</span><span class="va">curve_angle</span><span class="op">)</span>
  <span class="va">c_north</span><span class="op">=</span><span class="va">d_north</span> <span class="op">+</span> <span class="va">north</span><span class="op">*</span><span class="fu"><a href="https://rdrr.io/r/base/Trig.html">cos</a></span><span class="op">(</span><span class="va">curve_angle</span><span class="op">)</span> <span class="op">+</span> <span class="va">east</span><span class="op">*</span><span class="fu"><a href="https://rdrr.io/r/base/Trig.html">sin</a></span><span class="op">(</span><span class="va">curve_angle</span><span class="op">)</span>
  <span class="va">d</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/tibble.html">tibble</a></span><span class="op">(</span>
    x<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">o_east</span>,<span class="va">c_east</span>,<span class="va">d_east</span><span class="op">)</span>,
    y<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">o_north</span>,<span class="va">c_north</span>,<span class="va">d_north</span><span class="op">)</span>,
    od_pair<span class="op">=</span><span class="va">od_pair</span>
  <span class="op">)</span>
<span class="op">}</span>

<span class="co"># Convert degrees to radians.</span>
<span class="va">get_radians</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">degrees</span><span class="op">)</span> <span class="op">{</span>
  <span class="op">(</span><span class="va">degrees</span> <span class="op">*</span> <span class="va">pi</span><span class="op">)</span> <span class="op">/</span> <span class="op">(</span><span class="fl">180</span><span class="op">)</span>
<span class="op">}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>To an extent R Scripts are more straightforward than R Markdown files in that you don’t have to worry about configuring code chunks. They are really useful for quickly developing bits of code. This can be achieved by highlighting over the code that you wish to execute and clicking the <code>Run</code> icon at the top of the Code Editor pane or by typing <kbd>ctrl</kbd> + <kbd>rtn</kbd> on Windows, <kbd>⌘</kbd> + <kbd>rtn</kbd> on macOS</p>
</section><section id="create-an-rstudio-project" class="level3" data-number="1.3.6"><h3 data-number="1.3.6" class="anchored" data-anchor-id="create-an-rstudio-project">
<span class="header-section-number">1.3.6</span> Create an RStudio Project</h3>
<p>Throughout the book we will use project-oriented workflows. This is where all files pertaining to a data analysis – data, code and outputs – are organised from a single root folder and where <em>file path discipline</em> is used such that all paths are relative to the project’s root folder (see <a href="https://rstats.wtf/project-oriented-workflow.html">Bryan &amp; Hester 2020</a>). You can imagine that this sort of self-contained project set-up is necessary for achieving reproducibility of your research. It allows anyone to take a project and run it on their own machines without having to make any adjustments.</p>
<p>You might have noticed that when you open RStudio it automatically <em>points to</em> a working directory, likely the home folder for your local machine, denoted with <code>~/</code> in the Console. RStudio will by default save any outputs to this folder and will also expect any data you use to be saved there. Clearly if you want to incorporate neat, self-contained project workflows then you will want to organise your work from a dedicated project folder rather than the default home folder for your machine. This can be achieved with the <code>setwd(&lt;path-to-your-project&gt;)</code> function. The problem with doing this is that you insert a path which cannot be understood outside of your local machine at the time it was created. This is a real pain. It makes simple things like moving projects around on your machine an arduous task and most importantly it hinders reproducibility if others are to reuse your work.</p>
<p>RStudio Projects are a really excellent feature of the RStudio IDE that resolve these problems. Whenever you load up an RStudio Project, R starts up and the working directory is automatically set to the project’s root folder. If you were to move the project elsewhere on your machine, or to another machine, a new root is automatically generated – so RStudio projects ensure that relative paths work.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-studio-project" class="quarto-figure quarto-figure-center anchored">
<figure class="figure"><p><img src="../../../figs/rstudio_project.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 1.5: Creating an RStudio Project</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>Let’s create a new Project for this book:</p>
<ul>
<li>Select <code>File</code> &gt; <code>New Project</code> &gt; <code>New Directory</code>.</li>
<li>Browse to a sensible location and give the project a suitable name. Then click <code>Create Project</code>.</li>
</ul>
<p>You will notice that the top of the Console window now indicates the root for this new project, in my case <code>~projects/vis4sds</code>.</p>
<ul>
<li>In the root of your project, create folders called <code>reports</code>, <code>code</code>, <code>data</code>, <code>figures</code>.</li>
<li>Save this session’s <a href=""><i class="fab fa-r-project"></i> 01-template.Rmd</a> file to the <code>reports</code> folder.</li>
</ul>
<p>Your project’s folder structure should now look like this:</p>
<pre class="text"><code>vis4sds\
  vis4sds.Rproj
  code\
  data\
  figures\
  reports\
    01-template.Rmd</code></pre>
</section></section><section id="conclusions" class="level2" data-number="1.4"><h2 data-number="1.4" class="anchored" data-anchor-id="conclusions">
<span class="header-section-number">1.4</span> Conclusions</h2>
<p>Visual data analysis approaches are necessary for exploring complex patterns in data and to make and communicate claims under uncertainty. This is especially true of SDS applications, where:</p>
<ul>
<li>datasets are being repurposed for social sciences research for the first time;</li>
<li>contain complex structure and geo-spatial relations that cannot be easily captured by statistical summaries alone;</li>
<li>and, consequently, where the types of questions that can be asked and the techniques deployed to answer them cannot be easily specified in advance.</li>
</ul>
<p>In this book we will demonstrate this as we explore (Chapter <a href="04-explore.html"><span>4</span></a> and <a href="05-network.html"><span>5</span></a>), model under uncertainty (Chapter <a href="06-model.html"><span>6</span></a>) and communicate (Chapter <a href="07-uncertainty.html"><span>7</span></a> and <a href="08-storytelling.html"><span>8</span></a>) with various social science datasets. We will work with both new, large-scale behavioural datasets, as well as more traditional, administrative datasets located within various social science domains: Political Science, Crime Science, Urban and Transport Planning. We will do so using the statistical programming environment <code>R</code>, which along with <a href="https://www.python.org/"><code>Python</code></a>, is <em>the</em> programming environment for modern data analysis. We will make use of various tools and software libraries that form part of the <code>R</code> ecosystem – the <a href="https://www.tidyverse.org/"><code>tidyverse</code></a> for doing modern data science and <a href="https://rmarkdown.rstudio.com/">R Markdown</a> for authoring reproducible research projects.</p>


</section><div id="quarto-appendix" class="default page-columns page-full"><section class="footnotes footnotes-end-of-document page-columns page-full" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading column-leftmargin">Footnotes</h2>
<ol>
<li id="fn1" role="doc-endnote"><p>For an excellent precis and interpretation of this for geographers and social scientists, see <span class="citation" data-cites="arribas_geography_2018">Arribas-Bel and Reades (<a href="references.html#ref-arribas_geography_2018" role="doc-biblioref">2018</a>)</span>.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2" role="doc-endnote"><p>Checkout <span class="citation" data-cites="matejka_same_2017">Matejka and Fitzmaurice (<a href="references.html#ref-matejka_same_2017" role="doc-biblioref">2017</a>)</span>’s Same Stats, Different Graphs paper for a fun take one this.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol></section></div></main><!-- /main --><script type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    setTimeout(function() {
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="./preface.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Preface</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./02-data.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Data Fundamentals</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->


</body></html>